(this["webpackJsonpweather-info"]=this["webpackJsonpweather-info"]||[]).push([[0],{69:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),i=n.n(c),o=n(91),s=n(96),u=n(7),l=n(72),d=n(2);function b(){return Object(d.jsx)(s.a,{display:"flex",justifyContent:"center",alignItems:"center",style:{marginTop:150},children:Object(d.jsx)(l.a,{variant:"h2",component:"h2",children:"Loading..."})})}var p=function(e){return e.shared.loading},j=function(e){return e.card.cards},f=n(101),h=n(92),m=n(39),O=n(10),v=function(e){return e.temperature.unit},x=Object(O.a)(v,(function(e){return"metric"===e?"\xb0C":"\xb0F"}));var g=Object(o.a)((function(e){return{default:{border:"1px solid black"},active:{border:"3px solid black"}}}));function y(e){var t=e.date,n=e.temperature,r=e.isActive,c=e.id,i=e.activateCard,o=function(e){var t=Object(a.useState)("0 F"),n=Object(m.a)(t,2),r=n[0],c=n[1],i=Object(u.c)(x);return Object(a.useEffect)((function(){c("".concat(e," ").concat(i))}),[e,i]),r}(n),s=g();return Object(d.jsx)(f.a,{className:r?s.active:s.default,onClick:function(){return i(c)},children:Object(d.jsxs)(h.a,{children:[Object(d.jsx)(l.a,{variant:"h5",component:"h2",children:"Temp:"}),Object(d.jsx)(l.a,{variant:"h6",component:"h2",children:o}),Object(d.jsx)(l.a,{variant:"h5",component:"h2",children:"Date:"}),Object(d.jsx)(l.a,{variant:"h6",component:"h2",children:t})]})})}var w=function(e){return e.pagination.pageIndex},C=function(e){return e.pagination.pageSize},S=Object(O.a)(w,(function(e){return e>0})),k=Object(O.a)(w,C,j,(function(e,t,n){return e+t<(null===n||void 0===n?void 0:n.length)})),W=function(e){return e.card.activeCardId},z=Object(O.a)(j,C,w,(function(e,t,n){return e.slice(n,n+t)})),I=Object(O.a)(W,z,(function(e,t){return t.find((function(t){return t.id===e}))})),A=n(19),N=n(11),L=n(24),R=n.n(L),F=n(35),M="https://api.openweathermap.org";function D(e){return E.apply(this,arguments)}function E(){return(E=Object(F.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(M,"/data/2.5/forecast?q=Munich,de&APPID=").concat("a98e355de724fe42262464edfe47d3ec","&units=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a.list);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=Object(N.b)("fetchWeather",function(){var e=Object(F.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.map((function(e,t){var n,a=e.dt,r=e.main.temp;return{date:(n=a,new Date(1e3*+n).toLocaleString("en-ie",{day:"numeric",month:"short",year:"numeric"}).replaceAll(" ","-")),temperature:Math.round(r),id:t}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=Object(N.c)({name:"card",initialState:{cards:[],activeCardId:2},reducers:{setActiveCardId:function(e,t){e.activeCardId=t.payload}},extraReducers:function(e){e.addCase(P.fulfilled,(function(e,t){var n=t.payload.reduce((function(e,t,n){var a=t.date,r=t.temperature;n%8===0?e.push({date:a,temperature:r,id:e.length}):e[e.length-1].temperature+=r;return e}),[]).map((function(e){return Object(A.a)(Object(A.a)({},e),{},{temperature:Math.round(e.temperature/8)})}));e.cards=n}))}}),B=T.actions.setActiveCardId,J=T.reducer,q=Object(o.a)((function(e){return{root:{width:"100%",marginTop:20}}}));function V(){var e=Object(u.c)(z),t=Object(u.c)(W),n=q(),r=Object(u.b)(),c=Object(a.useCallback)((function(e){return r(B(e))}),[r]);return Object(d.jsx)(s.a,{display:"flex",justifyContent:"space-between",alignSelf:"center",className:n.root,children:e.map((function(e){var n=e.date,a=e.temperature,r=e.id;return Object(d.jsx)(y,{temperature:a,date:n,id:r,isActive:t===r,activateCard:c},r)}))})}var $=n(50),G=n.n($),H=n(42),K=n.n(H),Q=n(13),U=n(53),X=n(51),Y=n.n(X),Z=n(52),_=n.n(Z),ee=Object(U.a)({typography:{fontSize:16},palette:{primary:{main:Y.a[500]},secondary:{main:_.a[500]}},containerWidth:650,breakpoints:{values:{sm:650}}});ee.typography.h1=Object(Q.a)({fontSize:"2rem"},ee.breakpoints.up("sm"),{fontSize:"2rem"}),ee.typography.h4=Object(Q.a)({fontSize:"1.5rem"},ee.breakpoints.up("sm"),{fontSize:"1.8rem"}),ee.typography.h5=Object(Q.a)({fontSize:"1.3rem"},ee.breakpoints.up("sm"),{fontSize:"1.6rem"}),ee.typography.h6=Object(Q.a)({fontSize:"1.2rem"},ee.breakpoints.up("sm"),{fontSize:"1.5rem"});var te=ee,ne=Object(O.a)((function(e){return e.chart.bars}),W,(function(e,t){return e[t]})),ae={chart:{type:"column",width:te.containerWidth,style:{maxWidth:"calc(100vw - 8px)"}},title:{text:""},subtitle:{text:""},xAxis:{categories:[],crosshair:!1,labels:{style:{fontSize:"1.5rem"}}},yAxis:{min:0,title:{enabled:!1},labels:{enabled:!1}},plotOptions:{column:{borderWidth:0,pointWidth:60}},series:[{name:"Temperature",data:[]}],legend:{enabled:!1},responsive:{rules:[{condition:{maxWidth:649},chartOptions:{legend:{enabled:!1},plotOptions:{column:{borderWidth:0,pointWidth:20}},xAxis:{labels:{style:{fontSize:"1rem"}}}}}]}};var re=Object(o.a)((function(e){return{root:{width:"100%",maxWidth:"100%"}}}));function ce(){var e=re(),t=function(){var e=Object(a.useState)(ae),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(u.c)(x),i=Object(u.c)(ne);return Object(a.useEffect)((function(){var e=i.map((function(e){return"".concat(e," ").concat(c)})),t=Object(A.a)(Object(A.a)({},ae),{},{series:{data:i},xAxis:{categories:e}});r(t)}),[i,c]),n}();return Object(d.jsx)(s.a,{display:"flex",className:e.root,children:Object(d.jsx)(G.a,{highcharts:K.a,options:t})})}var ie=n(97),oe=n(93),se=Object(N.c)({name:"pagination",initialState:{pageIndex:1,pageSize:3},reducers:{setPage:function(e,t){e.pageIndex=t.payload}}}),ue=se.actions.setPage,le=se.reducer,de=Object(N.c)({name:"shared",initialState:{loading:!0},reducers:{},extraReducers:function(e){e.addCase(P.pending,(function(e){e.loading=!0})).addCase(P.fulfilled,(function(e){e.loading=!1}))}}),be=function(e){return function(t,n){t(ue(e));var a=n();if(!I(a)){var r=z(a)[0].id;t(B(r))}}},pe=de.reducer,je=Object(o.a)((function(e){return{icon:Object(Q.a)({height:140,width:"auto",color:"blue"},e.breakpoints.down("sm"),{height:80})}}));function fe(){var e=Object(u.c)(k),t=Object(u.c)(S),n=Object(u.c)(w),a=Object(u.b)(),r=je();return Object(d.jsxs)(s.a,{display:"flex",justifyContent:"space-between",width:"100%",children:[Object(d.jsx)(ie.a,{"aria-label":"previous",onClick:function(){return a(be(n-1))},style:{visibility:t?"visible":"hidden"},disableRipple:!0,children:Object(d.jsx)(oe.a,{className:r.icon,style:{transform:"rotate(180deg)"}})}),Object(d.jsx)(ie.a,{"aria-label":"next",onClick:function(){return a(be(n+1))},style:{visibility:e?"visible":"hidden"},disableRipple:!0,children:Object(d.jsx)(oe.a,{className:r.icon})})]})}var he=n(99),me=n(100),Oe=n(94),ve=n(98),xe=Object(o.a)((function(e){return{formControlLabel:{"& svg":Object(Q.a)({width:"1em",height:"auto"},e.breakpoints.up("sm"),{width:"1.5em"}),"& .MuiFormControlLabel-label":Object(A.a)({},e.typography.h4)}}}));function ge(){var e=Object(u.c)(v),t=Object(u.b)(),n=xe();return Object(d.jsx)(he.a,{component:"fieldset",style:{width:"100%",display:"flex",alignItems:"center"},children:Object(d.jsxs)(me.a,{row:!0,"aria-label":"temperature",name:"temperature",style:{width:"88%",display:"flex",justifyContent:"space-between"},defaultValue:e,onChange:function(e){var n=e.target.value;t(P(n))},children:[Object(d.jsx)(Oe.a,{className:n.formControlLabel,value:"metric",control:Object(d.jsx)(ve.a,{color:"primary"}),label:"Celsius"}),Object(d.jsx)(Oe.a,{className:n.formControlLabel,value:"imperial",control:Object(d.jsx)(ve.a,{color:"primary"}),label:"Fahrenheit"})]})})}function ye(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ge,{}),Object(d.jsx)(fe,{}),Object(d.jsx)(V,{}),Object(d.jsx)(ce,{})]})}var we=Object(o.a)((function(e){return{root:{maxWidth:e.containerWidth,display:"flex",flexDirection:"column",margin:"0 auto",alignItems:"center"}}}));var Ce=function(){var e=we(),t=Object(u.b)(),n=Object(u.c)(p);return Object(a.useEffect)((function(){t(P("imperial"))}),[t]),Object(d.jsx)(s.a,{className:e.root,children:n?Object(d.jsx)(b,{}):Object(d.jsx)(ye,{})})},Se=Object(N.c)({name:"temperature",initialState:{unit:"imperial"},reducers:{},extraReducers:function(e){e.addCase(P.pending,(function(e,t){var n=t.meta.arg;e.unit=n}))}}).reducer,ke=Object(N.c)({name:"chart",initialState:{bars:[]},reducers:{},extraReducers:function(e){e.addCase(P.fulfilled,(function(e,t){var n=t.payload.reduce((function(e,t,n){var a=t.temperature;return n%8===0?e.push([a]):e[e.length-1].push(a),e}),[]);e.bars=n}))}}).reducer,We=Object(N.a)({reducer:{pagination:le,card:J,temperature:Se,shared:pe,chart:ke}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=n(95);i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(ze.a,{theme:te,children:Object(d.jsx)(u.a,{store:We,children:Object(d.jsx)(Ce,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[69,1,2]]]);
//# sourceMappingURL=main.6b11f96e.chunk.js.map